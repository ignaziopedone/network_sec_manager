SCENARIO DEMO
=======================================================

1) create user ignazio

POST http://10.170.36.58:8081/v1/upr/users/

{
  "user_id": "ignazio",
  "password":"ignazio",
  "optimization_profile": "MIN_BUY_COSTMAX_RATING",
  "integrityLevel": 1,
  "type": "normal",
  "is_cooperative": true,
  "is_infrastructure": true,
  "is_admin": true
}


=======================================================
2) insert RAG

POST http://10.170.36.58:8081/v1/upr/users/RAG/

{
  "target_id": "ignazio",
  "ned_info": "network_service",
  "reconcile_application_graph": "PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/Pg0KPE1hcHBpbmcgeG1sbnM9Imh0dHA6Ly93d3cuZXhhbXBsZS5vcmcvUmVmaW5lbWVudF9TY2hlbWEiPg0KICAgIDxzZXJ2aWNlX2dyYXBoPg0KICAgICAgICA8c2VydmljZSBzZXJ2aWNlSUQ9IlNlcnZpY2UwIj4NCiAgICAgICAgICAgIDxQU0EgbmFtZT0iaXB0YWJsZXMiPg0KICAgICAgICAgICAgICAgIDxQU0FfaW5mby8+DQogICAgICAgICAgICAgICAgPFBTQV9jaGFyYWN0ZXJpc3RpYyBjb3N0PSIxLjAiIGxhdGVuY3k9IjEuMCIgcmF0aW5nPSIxLjAiLz4NCiAgICAgICAgICAgICAgICA8Y2FwYWJpbGl0eT4NCiAgICAgICAgICAgICAgICAgICAgPGNhcGFiaWxpdHlfbGlzdD5GaWx0ZXJpbmdfTDc8L2NhcGFiaWxpdHlfbGlzdD4NCiAgICAgICAgICAgICAgICAgICAgPGNhcGFiaWxpdHlfbGlzdD5UaW1pbmc8L2NhcGFiaWxpdHlfbGlzdD4NCiAgICAgICAgICAgICAgICA8L2NhcGFiaWxpdHk+DQogICAgICAgICAgICAgICAgPE1TUExfbGlzdD4NCiAgICAgICAgICAgICAgICAgICAgPG1zcGxfbGlzdCBpZD0iTVNQTF81OTM2YTY5Yy1hODcxLTRmZmMtYTYxZS0xYjNiMzRlYWViODYiLz4NCiAgICAgICAgICAgICAgICA8L01TUExfbGlzdD4NCiAgICAgICAgICAgIDwvUFNBPg0KICAgICAgICA8L3NlcnZpY2U+DQogICAgICAgIDxyb290U2VydmljZT5TZXJ2aWNlMDwvcm9vdFNlcnZpY2U+DQogICAgICAgIDxlbmRTZXJ2aWNlPlNlcnZpY2UwPC9lbmRTZXJ2aWNlPg0KICAgIDwvc2VydmljZV9ncmFwaD4NCjwvTWFwcGluZz4="
}

=======================================================
3) Insert PSA configuration

POST http://UPR:8081/v1/upr/users/ignazio/PSAConf/
{
  "psa_id": "iptables",
  "configuration": "KmZpbHRlcgo6SU5QVVQgQUNDRVBUIFswOjBdCjpPVVRQVVQgQUNDRVBUIFswOjBdCjpGT1JXQVJEIEFDQ0VQVCBbMDowXQotQSBGT1JXQVJEIC1wIFRDUCAtZCAgNzcuMjQyLjE4OC40MiAtaiBEUk9QCi1BIEZPUldBUkQgLXAgVURQIC1kICA3Ny4yNDIuMTg4LjQyIC1qIERST1AKLUEgRk9SV0FSRCAtcCBUQ1AgLWQgIDEzMC4xOTIuMjI1LjIzOCAtbSBtdWx0aXBvcnQgLS1kcG9ydHMgNTMsNTM1MyAtaiBBQ0NFUFQKLUEgRk9SV0FSRCAtcCBVRFAgLWQgIDEzMC4xOTIuMjI1LjIzOCAtbSBtdWx0aXBvcnQgLS1kcG9ydHMgNTMsNTM1MyAtaiBBQ0NFUFQKLUEgRk9SV0FSRCAtcCBUQ1AgLW0gbXVsdGlwb3J0IC0tZHBvcnRzIDUzLDUzNTMgLWogRFJPUAotQSBGT1JXQVJEIC1wIFVEUCAtbSBtdWx0aXBvcnQgLS1kcG9ydHMgNTMsNTM1MyAtaiBEUk9QCkNPTU1JVAo="
}

=======================================================



post RAG
http://10.105.26.42:8081/v1/upr/users/RAG/
{
  "target_id": "ignazio",
  "ned_info": "network_service",
  "reconcile_application_graph": "PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/Pg0KPE1hcHBpbmcgeG1sbnM9Imh0dHA6Ly93d3cuZXhhbXBsZS5vcmcvUmVmaW5lbWVudF9TY2hlbWEiPg0KICAgIDxzZXJ2aWNlX2dyYXBoPg0KICAgICAgICA8c2VydmljZSBzZXJ2aWNlSUQ9IlNlcnZpY2UwIj4NCiAgICAgICAgICAgIDxQU0EgbmFtZT0iaXB0YWJsZXMiPg0KICAgICAgICAgICAgICAgIDxQU0FfaW5mby8+DQogICAgICAgICAgICAgICAgPFBTQV9jaGFyYWN0ZXJpc3RpYyBjb3N0PSIxLjAiIGxhdGVuY3k9IjEuMCIgcmF0aW5nPSIxLjAiLz4NCiAgICAgICAgICAgICAgICA8Y2FwYWJpbGl0eT4NCiAgICAgICAgICAgICAgICAgICAgPGNhcGFiaWxpdHlfbGlzdD5GaWx0ZXJpbmdfTDc8L2NhcGFiaWxpdHlfbGlzdD4NCiAgICAgICAgICAgICAgICAgICAgPGNhcGFiaWxpdHlfbGlzdD5UaW1pbmc8L2NhcGFiaWxpdHlfbGlzdD4NCiAgICAgICAgICAgICAgICA8L2NhcGFiaWxpdHk+DQogICAgICAgICAgICAgICAgPE1TUExfbGlzdD4NCiAgICAgICAgICAgICAgICAgICAgPG1zcGxfbGlzdCBpZD0iTVNQTF81OTM2YTY5Yy1hODcxLTRmZmMtYTYxZS0xYjNiMzRlYWViODYiLz4NCiAgICAgICAgICAgICAgICA8L01TUExfbGlzdD4NCiAgICAgICAgICAgIDwvUFNBPg0KICAgICAgICA8L3NlcnZpY2U+DQogICAgICAgIDxyb290U2VydmljZT5TZXJ2aWNlMDwvcm9vdFNlcnZpY2U+DQogICAgICAgIDxlbmRTZXJ2aWNlPlNlcnZpY2UwPC9lbmRTZXJ2aWNlPg0KICAgIDwvc2VydmljZV9ncmFwaD4NCjwvTWFwcGluZz4="
}

http://UPR:8081/v1/upr/users/Alice/PSAConf/
{
  "psa_id": "iptables",
  "configuration": "KmZpbHRlcgo6SU5QVVQgQUNDRVBUIFswOjBdCjpPVVRQVVQgQUNDRVBUIFswOjBdCjpGT1JXQVJEIEFDQ0VQVCBbMDowXQotQSBGT1JXQVJEIC1wIFRDUCAtZCAgNzcuMjQyLjE4OC40MiAtaiBEUk9QCi1BIEZPUldBUkQgLXAgVURQIC1kICA3Ny4yNDIuMTg4LjQyIC1qIERST1AKLUEgRk9SV0FSRCAtcCBUQ1AgLWQgIDEzMC4xOTIuMjI1LjIzOCAtbSBtdWx0aXBvcnQgLS1kcG9ydHMgNTMsNTM1MyAtaiBBQ0NFUFQKLUEgRk9SV0FSRCAtcCBVRFAgLWQgIDEzMC4xOTIuMjI1LjIzOCAtbSBtdWx0aXBvcnQgLS1kcG9ydHMgNTMsNTM1MyAtaiBBQ0NFUFQKLUEgRk9SV0FSRCAtcCBUQ1AgLW0gbXVsdGlwb3J0IC0tZHBvcnRzIDUzLDUzNTMgLWogRFJPUAotQSBGT1JXQVJEIC1wIFVEUCAtbSBtdWx0aXBvcnQgLS1kcG9ydHMgNTMsNTM1MyAtaiBEUk9QCkNPTU1JVAo="
}

post RAG
http://10.105.26.42:8081/v1/upr/users/RAG/
{
  "target_id": "Alice",
  "ned_info": "network_service",
  "reconcile_application_graph": "PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/Pgo8TWFwcGluZyB4bWxucz0iaHR0cDovL3d3dy5leGFtcGxlLm9yZy9SZWZpbmVtZW50X1NjaGVtYSI+CiAgICA8c2VydmljZV9ncmFwaD4KICAgICAgICA8c2VydmljZSBzZXJ2aWNlSUQ9IlNlcnZpY2UwIj4KICAgICAgICAgICAgPFBTQSBuYW1lPSJpcHRhYmxlcyI+CiAgICAgICAgICAgICAgICA8UFNBX2luZm8vPgogICAgICAgICAgICAgICAgPFBTQV9jaGFyYWN0ZXJpc3RpYyBjb3N0PSIxLjAiIGxhdGVuY3k9IjEuMCIgcmF0aW5nPSIxLjAiLz4KICAgICAgICAgICAgICAgIDxjYXBhYmlsaXR5PgogICAgICAgICAgICAgICAgICAgIDxjYXBhYmlsaXR5X2xpc3Q+RmlsdGVyaW5nX0w3PC9jYXBhYmlsaXR5X2xpc3Q+CiAgICAgICAgICAgICAgICAgICAgPGNhcGFiaWxpdHlfbGlzdD5UaW1pbmc8L2NhcGFiaWxpdHlfbGlzdD4KICAgICAgICAgICAgICAgIDwvY2FwYWJpbGl0eT4KICAgICAgICAgICAgICAgIDxNU1BMX2xpc3Q+CiAgICAgICAgICAgICAgICAgICAgPG1zcGxfbGlzdCBpZD0iTVNQTF81OTM2YTY5Yy1hODcxLTRmZmMtYTYxZS0xYjNiMzRlYWViODYiLz4KICAgICAgICAgICAgICAgIDwvTVNQTF9saXN0PgogICAgICAgICAgICA8L1BTQT4KICAgICAgICAgICAgPFBTQSBuYW1lPSJzcXVpZCI+CiAgICAgICAgICAgICAgICA8UFNBX2luZm8vPgogICAgICAgICAgICAgICAgPFBTQV9jaGFyYWN0ZXJpc3RpYyBjb3N0PSIxLjAiIGxhdGVuY3k9IjEuMCIgcmF0aW5nPSIxLjAiLz4KICAgICAgICAgICAgICAgIDxjYXBhYmlsaXR5PgogICAgICAgICAgICAgICAgICAgIDxjYXBhYmlsaXR5X2xpc3Q+RmlsdGVyaW5nX0w3PC9jYXBhYmlsaXR5X2xpc3Q+CiAgICAgICAgICAgICAgICAgICAgPGNhcGFiaWxpdHlfbGlzdD5UaW1pbmc8L2NhcGFiaWxpdHlfbGlzdD4KICAgICAgICAgICAgICAgIDwvY2FwYWJpbGl0eT4KICAgICAgICAgICAgICAgIDxNU1BMX2xpc3Q+CiAgICAgICAgICAgICAgICAgICAgPG1zcGxfbGlzdCBpZD0iTVNQTF81OTM2YTY5Yy1hODcxLTRmZmMtYTYxZS0xYjNiMzRlYWViODYiLz4KICAgICAgICAgICAgICAgIDwvTVNQTF9saXN0PgogICAgICAgICAgICA8L1BTQT4KICAgICAgICAgICAgPFBTQSBuYW1lPSJzdHJvbmdzd2FuIj4KICAgICAgICAgICAgICAgIDxQU0FfaW5mby8+CiAgICAgICAgICAgICAgICA8UFNBX2NoYXJhY3RlcmlzdGljIGNvc3Q9IjEuMCIgbGF0ZW5jeT0iMS4wIiByYXRpbmc9IjEuMCIvPgogICAgICAgICAgICAgICAgPGNhcGFiaWxpdHk+CiAgICAgICAgICAgICAgICAgICAgPGNhcGFiaWxpdHlfbGlzdD5GaWx0ZXJpbmdfTDc8L2NhcGFiaWxpdHlfbGlzdD4KICAgICAgICAgICAgICAgICAgICA8Y2FwYWJpbGl0eV9saXN0PlRpbWluZzwvY2FwYWJpbGl0eV9saXN0PgogICAgICAgICAgICAgICAgPC9jYXBhYmlsaXR5PgogICAgICAgICAgICAgICAgPE1TUExfbGlzdD4KICAgICAgICAgICAgICAgICAgICA8bXNwbF9saXN0IGlkPSJNU1BMXzU5MzZhNjljLWE4NzEtNGZmYy1hNjFlLTFiM2IzNGVhZWI4NiIvPgogICAgICAgICAgICAgICAgPC9NU1BMX2xpc3Q+CiAgICAgICAgICAgIDwvUFNBPgogICAgICAgIDwvc2VydmljZT4KICAgICAgICA8cm9vdFNlcnZpY2U+U2VydmljZTA8L3Jvb3RTZXJ2aWNlPgogICAgICAgIDxlbmRTZXJ2aWNlPlNlcnZpY2UwPC9lbmRTZXJ2aWNlPgogICAgPC9zZXJ2aWNlX2dyYXBoPgo8L01hcHBpbmc+"
}
